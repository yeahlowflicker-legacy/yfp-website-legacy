<html>

<meta charset="UTF-8">

<head>
     <title>SCPT001 | YFP</title>
     <link rel="stylesheet" href="../css/software-info.css">
     <link rel="stylesheet" href="../css/page.css">
</head>



<header>
     <link rel="stylesheet" href="../css/navbar.css">
     <nav class="navbar">
          <section class="logo">
               <img src="../res/YFV4_transparent.png">
               <h1>Yeahlowflicker Production</h1>
          </section>

          <section class="navbar-links">
               <a href="../about.html">About Us</a>
               <a href="../scripts.html">Scripts</a>
               <a href="../projects.html">Projects</a>
               <a href="../index.html">Home</a>
          </section>
     </nav>
</header>




<body>

     <section class="page_wrapper">

          <div class="top-placeholder"></div>
          <label class="page_title">Password Generator</label>
          <label class="uuid_label">SCPT001 | Script</label>



          <section class="page_section">
               <h1>Index</h1>
               <a class="links" href="#introduction">Introduction</a>
               <a class="links" href="#api_ref">API Reference</a>
               <a class="links" href="#source-code">Source Code</a>
               <a class="links" href="#license">License</a>
               <a class="links" href="#links">Links</a>
          </section>




          <section class="page_section" id="introduction">
               <h1>Introduction</h1>
               <img class="doc_image" src="../res/SCPT001/scpt001-demo.png">
               <p>This is a Python script that generates a random password.</p>
               <p>The following options can be customized by users:</p>
               <ul>
                    <li>Numbers</li>
                    <li>Small characters</li>
                    <li>Capitialized characters</li>
                    <li>Punctuations</li>
               </ul>
               <p>At least one of the above options has to be selected. Otherwise, the system will show error.</p>
               <p>To run the program, make sure to have Python 3 installed. Open terminal/cmd in the script directory and type the following command:</p>
               <code class="api_code">python3 password-generator.py</code>
               <hr width="96%" align="right">
               <p>Note #0: The program is tested with Python 3.8.</p>
               <p>Note #1: Generated files are placed at <i>home/.local/share/applications</i> .</p>
          </section>




          <section class="page_section" id="api_ref">

               <h1>API Reference</h1>

               <section class="api_item_index">
                    <a href="#api_item_0">length</a>
                    <a href="#api_item_1">num</a>
                    <a href="#api_item_2">smallChar</a>
                    <a href="#api_item_3">capChar</a>
                    <a href="#api_item_4">result</a>
                    <a href="#api_item_5">punc</a>
                    <a href="#api_item_6">generate()</a>
                    <a href="#api_item_7">genType()</a>
                    <a href="#api_item_8">genChar()</a>
                    <a href="#api_item_9">checking()</a>
                    <a href="#api_item_10">menu()</a>
               </section>



               <section class="api_item_container">
                    <label class="api_item_title" id="api_item_0">length</label>
                    <hr width="96%" align="right">
                    <p class="api_item_desc">The length of the password. The value is limited between 4 and 100.</p>
               </section>


               <section class="api_item_container">
                    <label class="api_item_title" id="api_item_1">num</label>
                    <hr width="96%" align="right">
                    <p class="api_item_desc">Whether numbers are included in the password.</p>
               </section>


               <section class="api_item_container">
                    <label class="api_item_title" id="api_item_2">smallChar</label>
                    <hr width="96%" align="right">
                    <p class="api_item_desc">Whether small characters are included in the password.</p>
               </section>

               <section class="api_item_container">
                    <label class="api_item_title" id="api_item_3">punc</label>
                    <hr width="96%" align="right">
                    <p class="api_item_desc">Whether punctuations are included in the password.</p>
               </section>

               <section class="api_item_container">
                    <label class="api_item_title" id="api_item_4">capChar</label>
                    <hr width="96%" align="right">
                    <p class="api_item_desc">Whether capitalized characters are included in the password.</p>
               </section>

               <section class="api_item_container">
                    <label class="api_item_title" id="api_item_5">result</label>
                    <hr width="96%" align="right">
                    <p class="api_item_desc">The generated password result.</p>
               </section>

               <section class="api_item_container">
                    <label class="api_item_title" id="api_item_6">generate()</label>
                    <hr width="96%" align="right">
                    <p class="api_item_desc">Main generation method. Calls genChar() repeatedly according to length.</p>
               </section>

               <section class="api_item_container">
                    <label class="api_item_title" id="api_item_7">genType(num, smallChar, capChar, punc)</label>
                    <hr width="96%" align="right">
                    <p class="api_item_desc">Randomly pick the type of the next character to be generated. If the picked type does not meet the requirements, it will be re-generated.</p>
               </section>

               <section class="api_item_container">
                    <label class="api_item_title" id="api_item_8">genChar(type)</label>
                    <hr width="96%" align="right">
                    <p class="api_item_desc">Randomly generate a character based on the selected type. The generated character is then added to the result string.</p>
               </section>

               <section class="api_item_container">
                    <label class="api_item_title" id="api_item_9">checking()</label>
                    <hr width="96%" align="right">
                    <p class="api_item_desc">Perform checking on the result to see if all of the requirements are included in the password. If not, a random character in the password will be replaced by a new generated character and the checking() method will be called again until the password meets all the requirements.</p>
               </section>

               <section class="api_item_container">
                    <label class="api_item_title" id="api_item_9">menu()</label>
                    <hr width="96%" align="right">
                    <p class="api_item_desc">Display the main menu.</p>
               </section>

          </section>



          <section class="page_section" id="source-code">
               <h1>Source Code</h1>
               <pre class="code-block">
                    <code>
import sys
import random
import string


#   Password length
length = 8

#   Numbers
num = True

#   Small characters
smallChar = True

#   Capitalized characters
capChar = True

#   Punctuations
punc = True

#   Generated result
result = ""



#   Main generation algorithm
def generate():
    global result
    global length
    global num
    global smallChar
    global capChar
    global punc

    for i in range(length):
        result += genChar(genType(num, smallChar, capChar, punc))



#   Return a generation type based on options
def genType(num, smallChar, capChar, punc):
    val = random.randint(0, 3)

    if not num and val == 0:
        val = genType(num, smallChar, capChar, punc)
    elif not smallChar and val == 1:
        val = genType(num, smallChar, capChar, punc)
    elif not capChar and val == 2:
        val = genType(num, smallChar, capChar, punc)
    elif not punc and val == 3:
        val = genType(num, smallChar, capChar, punc)

    return val




#   Return a random character based on options
def genChar(type):

    #   Generate values based on current generation type
    if type == 0:
        val = random.randint(0, 9)
    elif type == 1:
        val = random.choice(string.ascii_lowercase)
    elif type == 2:
        val = random.choice(string.ascii_uppercase)
    elif type == 3:
        val = random.choice(string.punctuation)

    return str(val)




#   Check if the generated password meets all the requirements
#   If not, randomly replace a character and restart the check procedure
def checking():
    global result
    global num
    global smallChar
    global capChar
    global punc

    changed = False
    hasNum = False
    hasSmallChar = False
    hasCapChar = False
    hasPunc = False

    for _ in result:
        if _ in string.digits:
            hasNum = True
        elif _ in string.ascii_lowercase:
            hasSmallChar = True
        elif _ in string.ascii_uppercase:
            hasCapChar = True
        elif _ in string.punctuation:
            hasPunc = True

    replace_index = random.randint(0, len(result) - 1)

    if not hasNum and num:
        result = result[:replace_index] + genChar(0) + result[replace_index + 1:]
        changed = True
    if not hasSmallChar and smallChar:
        result = result[:replace_index] + genChar(1) + result[replace_index + 1:]
        changed = True
    if not hasCapChar and capChar:
        result = result[:replace_index] + genChar(2) + result[replace_index + 1:]
        changed = True
    if not hasPunc and punc:
        result = result[:replace_index] + genChar(3) + result[replace_index + 1:]
        changed = True

    if changed:
        checking()
    else:
        return



#   Main Menu
def menu():
    global result
    global length
    global num
    global smallChar
    global capChar
    global punc


    #   Clear screen
    from os import system
    if name == "nt":
        system("cls")
    else:
        system("clear")

    print("Yeahlowflicker Production")
    print("SCPT001 - Password Generator\n\n")


    print("Password Length: {}\n".format(length))


    print("Options:")

    if num:
        print("[X] 0: Numbers")
    else:
        print("[ ] 0: Numbers")

    if smallChar:
        print("[X] 1: Small Characters")
    else:
        print("[ ] 1: Small Characters")

    if capChar:
        print("[X] 2: Capitalized Characters")
    else:
        print("[ ] 2: Capitalized Characters")

    if punc:
        print("[X] 3: Punctuations")
    else:
        print("[ ] 3: Punctuations")


    print("\nEnter option index to toggle options.")
    print("Enter 'length' to modify password length.")
    print("Enter 'quit' to exit.")
    print("Enter 'start' to generate.\n")

    option = raw_input("Your option: ")


    if option == "0":
        num = not num
        menu()

    elif option == "1":
        smallChar = not smallChar
        menu()

    elif option == "2":
        capChar = not capChar
        menu()

    elif option == "3":
        punc = not punc
        menu()

    elif option == "length":
        length = input("Enter new password length: ")

        #   Limit password length (Range: 4 - 100)
        if length < 4:
            length = 4
            print("\nPassword too short, set to 4 (minimum) automatically.")
            raw_input("Press any key to advance...")

        elif length > 100:
            length = 100
            print("\nPassword too long, set to 100 (maximum) automatically.")
            raw_input("Press any key to advance...")

        menu()

    elif option == "quit":
        return

    elif option == "start":
        #   If no option is selected, show error and stop program
        if not num and not smallChar and not capChar and not punc:
            print("ERROR: No generation type is selected.")
            return

        #   Otherwise, generate and display password
        generate()
        checking()
        print("\nGenerating...")
        print("\nGenerated Password:\n---------------------\n{}\n\n".format(result))

    else:
        menu()





#   Main Program
if __name__ == "__main__":
    menu()
    raw_input("Press any key to exit...")
    sys.exit()
                    </code>
               </pre>
          </section>



          <section class="page_section" id="license">
               <h1>License</h1>
               <p>This script is licensed under the MIT License.</p>
          </section>




          <section class="page_section" id="links">
               <h1>Links</h1>
               <a class="links" href="https://www.python.org/downloads/" target="_blank">Download Python</a>
               <a class="links" href="https://www.mit.edu/~amini/LICENSE.md" target="_blank">MIT License</a>
          </section>


     </section>

</body>




<link rel="stylesheet" href="../css/footer.css">
<footer>
     <section class="footer-links">
          <a href="https://www.instagram.com/yeahlowflickerproduction" target="_blank">Instagram</a>
          <a href="https://www.youtube.com/channel/UCyOZNX6yoHb-vBhthVBKzQg" target="_blank">YouTube</a>
          <a href="https://www.github.com/YeahlowflickerProduction" target="_blank">GitHub</a>
     </section>
     <label>Copyright Â© 2020 Yeahlowflicker Production</label>
</footer>



</html>
